<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Retorno de Inversi贸n T.E.A.M.</title>
    <!-- Carga de Tailwind CSS para un dise帽o responsive y moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Configuraciones de fuente y color de fondo para la calculadora */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc; /* Fondo claro para integrarse bien en blogs */
            padding: 20px;
        }
        /* Estilo para los inputs */
        .input-field {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            width: 100%;
            transition: all 0.2s;
        }
        .input-field:focus {
            border-color: #3b82f6; /* Azul de enfoque */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
            outline: none;
        }
        /* Estilos de la tarjeta principal */
        .calculator-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            max-width: 500px;
            margin: 0 auto;
        }
         /* Estilos de los botones de Conversi贸n */
        .btn-conversion-main {
            background-color: #3b82f6; /* Azul para el objetivo principal */
            transition: background-color 0.2s, transform 0.2s;
        }
        .btn-conversion-main:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
        }
        .btn-conversion-secondary {
            border: 2px solid #3b82f6;
            color: #3b82f6;
            transition: background-color 0.2s;
        }
        .btn-conversion-secondary:hover {
            background-color: #eff6ff;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">

    <div id="calculatorApp" class="calculator-card">
        <h1 class="text-2xl font-extrabold text-gray-800 mb-2">Calculadora ROI T.E.A.M.</h1>
        <p class="text-sm text-gray-600 mb-6">Estime el retorno de su inversi贸n publicitaria basada en el modelo T.E.A.M. (Topic, Entity, Authority, Mastery).</p>

        <!-- Secci贸n de Entradas -->
        <div class="space-y-4">
            <!-- 1. Inversi贸n Total -->
            <div>
                <label for="investment" class="block text-sm font-medium text-gray-700 mb-1">Inversi贸n Publicitaria ($)</label>
                <input type="number" id="investment" value="1000" min="0" oninput="calculateROI()" class="input-field" placeholder="Monto total de inversi贸n">
            </div>

            <!-- 2. Costo por Clic (CPC) -->
            <div>
                <label for="cpc" class="block text-sm font-medium text-gray-700 mb-1">Costo Promedio por Clic (CPC) ($)</label>
                <input type="number" id="cpc" value="0.50" min="0.01" step="0.01" oninput="calculateROI()" class="input-field" placeholder="Costo por cada clic">
            </div>

            <!-- 3. Tasa de Conversi贸n -->
            <div>
                <label for="conversionRate" class="block text-sm font-medium text-gray-700 mb-1">Tasa de Conversi贸n (%)</label>
                <input type="number" id="conversionRate" value="3.0" min="0.1" max="100" step="0.1" oninput="calculateROI()" class="input-field" placeholder="Porcentaje de visitantes que compran">
            </div>

            <!-- 4. Valor por Conversi贸n -->
            <div>
                <label for="valuePerConversion" class="block text-sm font-medium text-gray-700 mb-1">Valor Promedio por Conversi贸n ($)</label>
                <input type="number" id="valuePerConversion" value="50" min="1" oninput="calculateROI()" class="input-field" placeholder="Beneficio por cada venta o lead">
            </div>
        </div>

        <!-- L铆nea Separadora -->
        <div class="my-6 border-t border-gray-200"></div>

        <!-- Secci贸n de Resultados -->
        <h2 class="text-xl font-bold text-gray-800 mb-4">Resultados Estimados</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <!-- Resultado 1: Retorno de la Inversi贸n (ROI) -->
            <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4">
                <p class="text-sm font-semibold text-blue-600">ROI (Retorno de Inversi贸n)</p>
                <p id="roiResult" class="text-3xl font-extrabold text-blue-800 mt-1">0.00%</p>
                <p id="roiStatus" class="text-xs mt-1 font-medium"></p>
            </div>

            <!-- Resultado 2: Ganancia/P茅rdida Neta -->
            <div class="bg-green-50 border-l-4 border-green-500 rounded-lg p-4">
                <p class="text-sm font-semibold text-green-600">Ganancia Neta Estimada</p>
                <p id="netProfitResult" class="text-3xl font-extrabold text-green-800 mt-1">$0.00</p>
                <p id="totalClicks" class="text-xs text-gray-500 mt-1">Clics estimados: 0</p>
            </div>
        </div>
        
        <!-- Call-to-Action Dual -->
        <div class="mt-6 space-y-3">
            <p class="text-center font-semibold text-gray-800">
                Tu ROI proyectado es la justificaci贸n que necesitas. Puedes asegurar el proceso con la Licencia o comenzar con el Dossier para la aprobaci贸n. <b>隆Tienes la opci贸n de solicitar ambos!</b>
            </p>
            
            <a href="#licencia" target="_blank"
                class="btn-conversion-main w-full block text-center text-white font-bold py-3 rounded-lg shadow-lg transition duration-300">
                 隆S铆! Solicitar Licencia Educativa
            </a>
            
            <a href="#dossier" target="_blank"
                class="btn-conversion-secondary w-full block text-center font-bold py-3 rounded-lg transition duration-300">
                 Solicitar Dossier (Justificaci贸n para la Junta)
            </a>
        </div>


        <!-- Detalles de las M茅tricas -->
        <div class="mt-6 text-xs text-gray-500 border-t pt-4">
            <p><strong>F贸rmula:</strong> ROI = ((Ganancia Neta / Inversi贸n)  100)</p>
            <p><strong>Ganancia Neta:</strong> (Clics  Tasa de Conversi贸n  Valor) - Inversi贸n</p>
        </div>

    </div>

    <script>
        /**
         * Funci贸n principal para calcular el ROI y la ganancia neta.
         * Se ejecuta cada vez que cambia un valor de entrada.
         */
        function calculateROI() {
            // Obtener los valores de entrada. Usamos parseFloat para manejar n煤meros decimales.
            const investment = parseFloat(document.getElementById('investment').value) || 0;
            const cpc = parseFloat(document.getElementById('cpc').value) || 0;
            const conversionRatePercent = parseFloat(document.getElementById('conversionRate').value) || 0;
            const valuePerConversion = parseFloat(document.getElementById('valuePerConversion').value) || 0;

            // Prevenir divisi贸n por cero y asegurar valores positivos
            if (investment <= 0 || cpc <= 0 || conversionRatePercent <= 0) {
                document.getElementById('roiResult').textContent = "N/A";
                document.getElementById('netProfitResult').textContent = "$0.00";
                document.getElementById('roiStatus').textContent = "Ingrese valores positivos.";
                document.getElementById('roiStatus').className = 'text-xs mt-1 font-medium text-red-500';
                document.getElementById('totalClicks').textContent = "Clics estimados: 0";
                return;
            }

            // Convertir tasa de conversi贸n de porcentaje a decimal (ej. 3% -> 0.03)
            const conversionRate = conversionRatePercent / 100;

            // 1. Calcular el n煤mero total de clics
            // Clics = Inversi贸n Total / CPC
            const totalClicks = investment / cpc;
            document.getElementById('totalClicks').textContent = `Clics estimados: ${totalClicks.toFixed(0)}`;

            // 2. Calcular el Ingreso Total
            // Ingreso = Clics * Tasa de Conversi贸n * Valor por Conversi贸n
            const totalRevenue = totalClicks * conversionRate * valuePerConversion;

            // 3. Calcular la Ganancia Neta
            // Ganancia Neta = Ingreso Total - Inversi贸n
            const netProfit = totalRevenue - investment;

            // 4. Calcular el ROI (%)
            // ROI = (Ganancia Neta / Inversi贸n) * 100
            const roi = (netProfit / investment) * 100;

            // --- Actualizar Resultados en la UI ---

            // Formatear la Ganancia Neta
            const formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2,
            });

            document.getElementById('netProfitResult').textContent = formatter.format(netProfit);
            
            // Determinar el estilo para Ganancia Neta (verde para ganancia, rojo para p茅rdida)
            const netProfitCard = document.querySelector('#netProfitResult').closest('div');
            if (netProfit >= 0) {
                netProfitCard.className = 'bg-green-50 border-l-4 border-green-500 rounded-lg p-4';
                document.querySelector('#netProfitResult').className = 'text-3xl font-extrabold text-green-800 mt-1';
            } else {
                netProfitCard.className = 'bg-red-50 border-l-4 border-red-500 rounded-lg p-4';
                document.querySelector('#netProfitResult').className = 'text-3xl font-extrabold text-red-800 mt-1';
            }


            // Formatear el ROI
            const formattedROI = roi.toFixed(2) + '%';
            document.getElementById('roiResult').textContent = formattedROI;

            // Actualizar el estado del ROI
            const roiStatusElement = document.getElementById('roiStatus');
            const roiCard = document.querySelector('#roiResult').closest('div');
            
            if (roi >= 100) {
                roiStatusElement.textContent = "隆Excelente! Su inversi贸n se ha duplicado.";
                roiStatusElement.className = 'text-xs mt-1 font-medium text-green-700';
                roiCard.className = 'bg-green-100 border-l-4 border-green-600 rounded-lg p-4';
            } else if (roi >= 0) {
                roiStatusElement.textContent = "Positivo. Hay ganancias, pero examine c贸mo mejorar la conversi贸n.";
                roiStatusElement.className = 'text-xs mt-1 font-medium text-green-700';
                roiCard.className = 'bg-green-50 border-l-4 border-green-500 rounded-lg p-4';
            } else {
                roiStatusElement.textContent = "P茅rdida. Revise su CPC o la efectividad del valor de conversi贸n.";
                roiStatusElement.className = 'text-xs mt-1 font-medium text-red-700';
                roiCard.className = 'bg-red-50 border-l-4 border-red-500 rounded-lg p-4';
            }
        }

        // Ejecutar el c谩lculo al cargar la p谩gina con los valores por defecto
        document.addEventListener('DOMContentLoaded', calculateROI);
    </script>
</body>

</html>
